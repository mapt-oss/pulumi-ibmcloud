// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as utilities from "./utilities";

export class BackupRecoveryProtectionPolicy extends pulumi.CustomResource {
    /**
     * Get an existing BackupRecoveryProtectionPolicy resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: BackupRecoveryProtectionPolicyState, opts?: pulumi.CustomResourceOptions): BackupRecoveryProtectionPolicy {
        return new BackupRecoveryProtectionPolicy(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'ibmcloud:index/backupRecoveryProtectionPolicy:BackupRecoveryProtectionPolicy';

    /**
     * Returns true if the given object is an instance of BackupRecoveryProtectionPolicy.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is BackupRecoveryProtectionPolicy {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === BackupRecoveryProtectionPolicy.__pulumiType;
    }

    /**
     * Specifies the backup schedule and retentions of a Protection Policy.
     */
    declare public readonly backupPolicy: pulumi.Output<outputs.BackupRecoveryProtectionPolicyBackupPolicy>;
    /**
     * List of Blackout Windows. If specified, this field defines blackout periods when new Group Runs are not started. If a Group Run has been scheduled but not yet executed and the blackout period starts, the behavior depends on the policy field AbortInBlackoutPeriod.
     */
    declare public readonly blackoutWindows: pulumi.Output<outputs.BackupRecoveryProtectionPolicyBlackoutWindow[] | undefined>;
    /**
     * Specifies the configuration for cascaded replications. Using cascaded replication, replication cluster(Rx) can further replicate and archive the snapshot copies to further targets. Its recommended to create cascaded configuration where protection group will be created.
     */
    declare public readonly cascadedTargetsConfigs: pulumi.Output<outputs.BackupRecoveryProtectionPolicyCascadedTargetsConfig[] | undefined>;
    /**
     * This field is now deprecated. Please use the DataLockConfig in the backup retention.
     */
    declare public readonly dataLock: pulumi.Output<string | undefined>;
    /**
     * Specifies the description of the Protection Policy.
     */
    declare public readonly description: pulumi.Output<string | undefined>;
    /**
     * public or private.
     */
    declare public readonly endpointType: pulumi.Output<string | undefined>;
    /**
     * Specifies additional retention policies that should be applied to the backup snapshots. A backup snapshot will be retained up to a time that is the maximum of all retention policies that are applicable to it.
     */
    declare public readonly extendedRetentions: pulumi.Output<outputs.BackupRecoveryProtectionPolicyExtendedRetention[] | undefined>;
    /**
     * The instnace ID of the Backup Recovery instance.
     */
    declare public readonly instanceId: pulumi.Output<string | undefined>;
    /**
     * Specifies true if Calender Based Schedule is supported by client. Default value is assumed as false for this feature.
     */
    declare public readonly isCbsEnabled: pulumi.Output<boolean | undefined>;
    /**
     * This field is set to true when policy is the replicated policy.
     */
    declare public /*out*/ readonly isReplicated: pulumi.Output<boolean>;
    /**
     * This field is set to true if the linked policy which is internally created from a policy templates qualifies as usable to create more policies on the cluster. If the linked policy is partially filled and can not create a working policy then this field will be set to false. In case of normal policy created on the cluster, this field wont be populated.
     */
    declare public /*out*/ readonly isUsable: pulumi.Output<boolean>;
    /**
     * Specifies the last time this Policy was updated. If this is passed into a PUT request, then the backend will validate that the timestamp passed in matches the time that the policy was actually last modified. If the two timestamps do not match, then the request will be rejected with a stale error.
     */
    declare public /*out*/ readonly lastModificationTimeUsecs: pulumi.Output<number>;
    /**
     * Specifies the name of the Protection Policy.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * Specifies the number of protected objects using the protection policy.
     */
    declare public /*out*/ readonly numProtectedObjects: pulumi.Output<number>;
    /**
     * Specifies the number of protection groups using the protection policy.
     */
    declare public /*out*/ readonly numProtectionGroups: pulumi.Output<number>;
    /**
     * policy ID
     */
    declare public /*out*/ readonly policyId: pulumi.Output<string>;
    /**
     * The region of the Backup Recovery instance.
     */
    declare public readonly region: pulumi.Output<string>;
    /**
     * Specifies the replication, archival and cloud spin targets of Protection Policy.
     */
    declare public readonly remoteTargetPolicy: pulumi.Output<outputs.BackupRecoveryProtectionPolicyRemoteTargetPolicy | undefined>;
    /**
     * Retry Options of a Protection Policy when a Protection Group run fails.
     */
    declare public readonly retryOptions: pulumi.Output<outputs.BackupRecoveryProtectionPolicyRetryOptions | undefined>;
    /**
     * Specifies the parent policy template id to which the policy is linked to. This field is set only when policy is created from template.
     */
    declare public readonly templateId: pulumi.Output<string | undefined>;
    /**
     * Specifies the current policy verison. Policy version is incremented for optionally supporting new features and differentialting across releases.
     */
    declare public readonly version: pulumi.Output<number | undefined>;
    /**
     * Specifies the key to be used to encrypt the source credential. If includeSourceCredentials is set to true this key must be specified.
     */
    declare public readonly xIbmTenantId: pulumi.Output<string>;

    /**
     * Create a BackupRecoveryProtectionPolicy resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: BackupRecoveryProtectionPolicyArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: BackupRecoveryProtectionPolicyArgs | BackupRecoveryProtectionPolicyState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as BackupRecoveryProtectionPolicyState | undefined;
            resourceInputs["backupPolicy"] = state?.backupPolicy;
            resourceInputs["blackoutWindows"] = state?.blackoutWindows;
            resourceInputs["cascadedTargetsConfigs"] = state?.cascadedTargetsConfigs;
            resourceInputs["dataLock"] = state?.dataLock;
            resourceInputs["description"] = state?.description;
            resourceInputs["endpointType"] = state?.endpointType;
            resourceInputs["extendedRetentions"] = state?.extendedRetentions;
            resourceInputs["instanceId"] = state?.instanceId;
            resourceInputs["isCbsEnabled"] = state?.isCbsEnabled;
            resourceInputs["isReplicated"] = state?.isReplicated;
            resourceInputs["isUsable"] = state?.isUsable;
            resourceInputs["lastModificationTimeUsecs"] = state?.lastModificationTimeUsecs;
            resourceInputs["name"] = state?.name;
            resourceInputs["numProtectedObjects"] = state?.numProtectedObjects;
            resourceInputs["numProtectionGroups"] = state?.numProtectionGroups;
            resourceInputs["policyId"] = state?.policyId;
            resourceInputs["region"] = state?.region;
            resourceInputs["remoteTargetPolicy"] = state?.remoteTargetPolicy;
            resourceInputs["retryOptions"] = state?.retryOptions;
            resourceInputs["templateId"] = state?.templateId;
            resourceInputs["version"] = state?.version;
            resourceInputs["xIbmTenantId"] = state?.xIbmTenantId;
        } else {
            const args = argsOrState as BackupRecoveryProtectionPolicyArgs | undefined;
            if (args?.backupPolicy === undefined && !opts.urn) {
                throw new Error("Missing required property 'backupPolicy'");
            }
            if (args?.xIbmTenantId === undefined && !opts.urn) {
                throw new Error("Missing required property 'xIbmTenantId'");
            }
            resourceInputs["backupPolicy"] = args?.backupPolicy;
            resourceInputs["blackoutWindows"] = args?.blackoutWindows;
            resourceInputs["cascadedTargetsConfigs"] = args?.cascadedTargetsConfigs;
            resourceInputs["dataLock"] = args?.dataLock;
            resourceInputs["description"] = args?.description;
            resourceInputs["endpointType"] = args?.endpointType;
            resourceInputs["extendedRetentions"] = args?.extendedRetentions;
            resourceInputs["instanceId"] = args?.instanceId;
            resourceInputs["isCbsEnabled"] = args?.isCbsEnabled;
            resourceInputs["name"] = args?.name;
            resourceInputs["region"] = args?.region;
            resourceInputs["remoteTargetPolicy"] = args?.remoteTargetPolicy;
            resourceInputs["retryOptions"] = args?.retryOptions;
            resourceInputs["templateId"] = args?.templateId;
            resourceInputs["version"] = args?.version;
            resourceInputs["xIbmTenantId"] = args?.xIbmTenantId;
            resourceInputs["isReplicated"] = undefined /*out*/;
            resourceInputs["isUsable"] = undefined /*out*/;
            resourceInputs["lastModificationTimeUsecs"] = undefined /*out*/;
            resourceInputs["numProtectedObjects"] = undefined /*out*/;
            resourceInputs["numProtectionGroups"] = undefined /*out*/;
            resourceInputs["policyId"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(BackupRecoveryProtectionPolicy.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering BackupRecoveryProtectionPolicy resources.
 */
export interface BackupRecoveryProtectionPolicyState {
    /**
     * Specifies the backup schedule and retentions of a Protection Policy.
     */
    backupPolicy?: pulumi.Input<inputs.BackupRecoveryProtectionPolicyBackupPolicy>;
    /**
     * List of Blackout Windows. If specified, this field defines blackout periods when new Group Runs are not started. If a Group Run has been scheduled but not yet executed and the blackout period starts, the behavior depends on the policy field AbortInBlackoutPeriod.
     */
    blackoutWindows?: pulumi.Input<pulumi.Input<inputs.BackupRecoveryProtectionPolicyBlackoutWindow>[]>;
    /**
     * Specifies the configuration for cascaded replications. Using cascaded replication, replication cluster(Rx) can further replicate and archive the snapshot copies to further targets. Its recommended to create cascaded configuration where protection group will be created.
     */
    cascadedTargetsConfigs?: pulumi.Input<pulumi.Input<inputs.BackupRecoveryProtectionPolicyCascadedTargetsConfig>[]>;
    /**
     * This field is now deprecated. Please use the DataLockConfig in the backup retention.
     */
    dataLock?: pulumi.Input<string>;
    /**
     * Specifies the description of the Protection Policy.
     */
    description?: pulumi.Input<string>;
    /**
     * public or private.
     */
    endpointType?: pulumi.Input<string>;
    /**
     * Specifies additional retention policies that should be applied to the backup snapshots. A backup snapshot will be retained up to a time that is the maximum of all retention policies that are applicable to it.
     */
    extendedRetentions?: pulumi.Input<pulumi.Input<inputs.BackupRecoveryProtectionPolicyExtendedRetention>[]>;
    /**
     * The instnace ID of the Backup Recovery instance.
     */
    instanceId?: pulumi.Input<string>;
    /**
     * Specifies true if Calender Based Schedule is supported by client. Default value is assumed as false for this feature.
     */
    isCbsEnabled?: pulumi.Input<boolean>;
    /**
     * This field is set to true when policy is the replicated policy.
     */
    isReplicated?: pulumi.Input<boolean>;
    /**
     * This field is set to true if the linked policy which is internally created from a policy templates qualifies as usable to create more policies on the cluster. If the linked policy is partially filled and can not create a working policy then this field will be set to false. In case of normal policy created on the cluster, this field wont be populated.
     */
    isUsable?: pulumi.Input<boolean>;
    /**
     * Specifies the last time this Policy was updated. If this is passed into a PUT request, then the backend will validate that the timestamp passed in matches the time that the policy was actually last modified. If the two timestamps do not match, then the request will be rejected with a stale error.
     */
    lastModificationTimeUsecs?: pulumi.Input<number>;
    /**
     * Specifies the name of the Protection Policy.
     */
    name?: pulumi.Input<string>;
    /**
     * Specifies the number of protected objects using the protection policy.
     */
    numProtectedObjects?: pulumi.Input<number>;
    /**
     * Specifies the number of protection groups using the protection policy.
     */
    numProtectionGroups?: pulumi.Input<number>;
    /**
     * policy ID
     */
    policyId?: pulumi.Input<string>;
    /**
     * The region of the Backup Recovery instance.
     */
    region?: pulumi.Input<string>;
    /**
     * Specifies the replication, archival and cloud spin targets of Protection Policy.
     */
    remoteTargetPolicy?: pulumi.Input<inputs.BackupRecoveryProtectionPolicyRemoteTargetPolicy>;
    /**
     * Retry Options of a Protection Policy when a Protection Group run fails.
     */
    retryOptions?: pulumi.Input<inputs.BackupRecoveryProtectionPolicyRetryOptions>;
    /**
     * Specifies the parent policy template id to which the policy is linked to. This field is set only when policy is created from template.
     */
    templateId?: pulumi.Input<string>;
    /**
     * Specifies the current policy verison. Policy version is incremented for optionally supporting new features and differentialting across releases.
     */
    version?: pulumi.Input<number>;
    /**
     * Specifies the key to be used to encrypt the source credential. If includeSourceCredentials is set to true this key must be specified.
     */
    xIbmTenantId?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a BackupRecoveryProtectionPolicy resource.
 */
export interface BackupRecoveryProtectionPolicyArgs {
    /**
     * Specifies the backup schedule and retentions of a Protection Policy.
     */
    backupPolicy: pulumi.Input<inputs.BackupRecoveryProtectionPolicyBackupPolicy>;
    /**
     * List of Blackout Windows. If specified, this field defines blackout periods when new Group Runs are not started. If a Group Run has been scheduled but not yet executed and the blackout period starts, the behavior depends on the policy field AbortInBlackoutPeriod.
     */
    blackoutWindows?: pulumi.Input<pulumi.Input<inputs.BackupRecoveryProtectionPolicyBlackoutWindow>[]>;
    /**
     * Specifies the configuration for cascaded replications. Using cascaded replication, replication cluster(Rx) can further replicate and archive the snapshot copies to further targets. Its recommended to create cascaded configuration where protection group will be created.
     */
    cascadedTargetsConfigs?: pulumi.Input<pulumi.Input<inputs.BackupRecoveryProtectionPolicyCascadedTargetsConfig>[]>;
    /**
     * This field is now deprecated. Please use the DataLockConfig in the backup retention.
     */
    dataLock?: pulumi.Input<string>;
    /**
     * Specifies the description of the Protection Policy.
     */
    description?: pulumi.Input<string>;
    /**
     * public or private.
     */
    endpointType?: pulumi.Input<string>;
    /**
     * Specifies additional retention policies that should be applied to the backup snapshots. A backup snapshot will be retained up to a time that is the maximum of all retention policies that are applicable to it.
     */
    extendedRetentions?: pulumi.Input<pulumi.Input<inputs.BackupRecoveryProtectionPolicyExtendedRetention>[]>;
    /**
     * The instnace ID of the Backup Recovery instance.
     */
    instanceId?: pulumi.Input<string>;
    /**
     * Specifies true if Calender Based Schedule is supported by client. Default value is assumed as false for this feature.
     */
    isCbsEnabled?: pulumi.Input<boolean>;
    /**
     * Specifies the name of the Protection Policy.
     */
    name?: pulumi.Input<string>;
    /**
     * The region of the Backup Recovery instance.
     */
    region?: pulumi.Input<string>;
    /**
     * Specifies the replication, archival and cloud spin targets of Protection Policy.
     */
    remoteTargetPolicy?: pulumi.Input<inputs.BackupRecoveryProtectionPolicyRemoteTargetPolicy>;
    /**
     * Retry Options of a Protection Policy when a Protection Group run fails.
     */
    retryOptions?: pulumi.Input<inputs.BackupRecoveryProtectionPolicyRetryOptions>;
    /**
     * Specifies the parent policy template id to which the policy is linked to. This field is set only when policy is created from template.
     */
    templateId?: pulumi.Input<string>;
    /**
     * Specifies the current policy verison. Policy version is incremented for optionally supporting new features and differentialting across releases.
     */
    version?: pulumi.Input<number>;
    /**
     * Specifies the key to be used to encrypt the source credential. If includeSourceCredentials is set to true this key must be specified.
     */
    xIbmTenantId: pulumi.Input<string>;
}
