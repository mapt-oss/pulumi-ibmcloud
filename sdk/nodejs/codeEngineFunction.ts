// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as utilities from "./utilities";

export class CodeEngineFunction extends pulumi.CustomResource {
    /**
     * Get an existing CodeEngineFunction resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: CodeEngineFunctionState, opts?: pulumi.CustomResourceOptions): CodeEngineFunction {
        return new CodeEngineFunction(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'ibmcloud:index/codeEngineFunction:CodeEngineFunction';

    /**
     * Returns true if the given object is an instance of CodeEngineFunction.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is CodeEngineFunction {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === CodeEngineFunction.__pulumiType;
    }

    /**
     * Specifies whether the code is binary or not. Defaults to false when `codeReference` is set to a data URL. When `codeReference` is set to a code bundle URL, this field is always true.
     */
    declare public readonly codeBinary: pulumi.Output<boolean | undefined>;
    /**
     * Specifies the name of the function that should be invoked.
     */
    declare public readonly codeMain: pulumi.Output<string | undefined>;
    /**
     * Specifies either a reference to a code bundle or the source code itself. To specify the source code, use the data URL scheme and include the source code as base64 encoded. The data URL scheme is defined in [RFC 2397](https://tools.ietf.org/html/rfc2397).
     */
    declare public readonly codeReference: pulumi.Output<string>;
    /**
     * The name of the secret that is used to access the specified `codeReference`. The secret is used to authenticate with a non-public endpoint that is specified as`codeReference`.
     */
    declare public readonly codeSecret: pulumi.Output<string | undefined>;
    /**
     * References to config maps, secrets or literal values, which are defined and set by Code Engine and are exposed as environment variables in the function.
     */
    declare public /*out*/ readonly computedEnvVariables: pulumi.Output<outputs.CodeEngineFunctionComputedEnvVariable[]>;
    /**
     * The timestamp when the resource was created.
     */
    declare public /*out*/ readonly createdAt: pulumi.Output<string>;
    /**
     * URL to invoke the function.
     */
    declare public /*out*/ readonly endpoint: pulumi.Output<string>;
    /**
     * URL to function that is only visible within the project.
     */
    declare public /*out*/ readonly endpointInternal: pulumi.Output<string>;
    /**
     * The version of the function instance, which is used to achieve optimistic locking.
     */
    declare public /*out*/ readonly entityTag: pulumi.Output<string>;
    declare public /*out*/ readonly etag: pulumi.Output<string>;
    /**
     * The identifier of the resource.
     */
    declare public /*out*/ readonly functionId: pulumi.Output<string>;
    /**
     * When you provision a new function, a relative URL path is created identifying the location of the instance.
     */
    declare public /*out*/ readonly href: pulumi.Output<string>;
    /**
     * Optional value controlling which of the system managed domain mappings will be setup for the function. Valid values are 'local_public', 'local_private' and 'local'. Visibility can only be 'local_private' if the project supports function private visibility.
     */
    declare public readonly managedDomainMappings: pulumi.Output<string | undefined>;
    /**
     * The name of the function.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * The ID of the project.
     */
    declare public readonly projectId: pulumi.Output<string>;
    /**
     * The region of the project the resource is located in. Possible values: 'au-syd', 'br-sao', 'ca-tor', 'eu-de', 'eu-gb', 'jp-osa', 'jp-tok', 'us-east', 'us-south'.
     */
    declare public /*out*/ readonly region: pulumi.Output<string>;
    /**
     * The type of the function.
     */
    declare public /*out*/ readonly resourceType: pulumi.Output<string>;
    /**
     * References to config maps, secrets or literal values, which are defined by the function owner and are exposed as environment variables in the function.
     */
    declare public readonly runEnvVariables: pulumi.Output<outputs.CodeEngineFunctionRunEnvVariable[] | undefined>;
    /**
     * The managed runtime used to execute the injected code.
     */
    declare public readonly runtime: pulumi.Output<string>;
    /**
     * Number of parallel requests handled by a single instance, supported only by Node.js, default is `1`.
     */
    declare public readonly scaleConcurrency: pulumi.Output<number | undefined>;
    /**
     * Optional amount of CPU set for the instance of the function. For valid values see [Supported memory and CPU combinations](https://cloud.ibm.com/docs/codeengine?topic=codeengine-mem-cpu-combo).
     */
    declare public readonly scaleCpuLimit: pulumi.Output<string | undefined>;
    /**
     * Optional amount of time in seconds that delays the scale down behavior for a function.
     */
    declare public readonly scaleDownDelay: pulumi.Output<number | undefined>;
    /**
     * Timeout in secs after which the function is terminated.
     */
    declare public readonly scaleMaxExecutionTime: pulumi.Output<number | undefined>;
    /**
     * Optional amount of memory set for the instance of the function. For valid values see [Supported memory and CPU combinations](https://cloud.ibm.com/docs/codeengine?topic=codeengine-mem-cpu-combo). The units for specifying memory are Megabyte (M) or Gigabyte (G), whereas G and M are the shorthand expressions for GB and MB. For more information see [Units of measurement](https://cloud.ibm.com/docs/codeengine?topic=codeengine-mem-cpu-combo#unit-measurements).
     */
    declare public readonly scaleMemoryLimit: pulumi.Output<string | undefined>;
    /**
     * The current status of the function.
     */
    declare public /*out*/ readonly status: pulumi.Output<string>;
    /**
     * The detailed status of the function.
     */
    declare public /*out*/ readonly statusDetails: pulumi.Output<outputs.CodeEngineFunctionStatusDetail[]>;

    /**
     * Create a CodeEngineFunction resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: CodeEngineFunctionArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: CodeEngineFunctionArgs | CodeEngineFunctionState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as CodeEngineFunctionState | undefined;
            resourceInputs["codeBinary"] = state?.codeBinary;
            resourceInputs["codeMain"] = state?.codeMain;
            resourceInputs["codeReference"] = state?.codeReference;
            resourceInputs["codeSecret"] = state?.codeSecret;
            resourceInputs["computedEnvVariables"] = state?.computedEnvVariables;
            resourceInputs["createdAt"] = state?.createdAt;
            resourceInputs["endpoint"] = state?.endpoint;
            resourceInputs["endpointInternal"] = state?.endpointInternal;
            resourceInputs["entityTag"] = state?.entityTag;
            resourceInputs["etag"] = state?.etag;
            resourceInputs["functionId"] = state?.functionId;
            resourceInputs["href"] = state?.href;
            resourceInputs["managedDomainMappings"] = state?.managedDomainMappings;
            resourceInputs["name"] = state?.name;
            resourceInputs["projectId"] = state?.projectId;
            resourceInputs["region"] = state?.region;
            resourceInputs["resourceType"] = state?.resourceType;
            resourceInputs["runEnvVariables"] = state?.runEnvVariables;
            resourceInputs["runtime"] = state?.runtime;
            resourceInputs["scaleConcurrency"] = state?.scaleConcurrency;
            resourceInputs["scaleCpuLimit"] = state?.scaleCpuLimit;
            resourceInputs["scaleDownDelay"] = state?.scaleDownDelay;
            resourceInputs["scaleMaxExecutionTime"] = state?.scaleMaxExecutionTime;
            resourceInputs["scaleMemoryLimit"] = state?.scaleMemoryLimit;
            resourceInputs["status"] = state?.status;
            resourceInputs["statusDetails"] = state?.statusDetails;
        } else {
            const args = argsOrState as CodeEngineFunctionArgs | undefined;
            if (args?.codeReference === undefined && !opts.urn) {
                throw new Error("Missing required property 'codeReference'");
            }
            if (args?.projectId === undefined && !opts.urn) {
                throw new Error("Missing required property 'projectId'");
            }
            if (args?.runtime === undefined && !opts.urn) {
                throw new Error("Missing required property 'runtime'");
            }
            resourceInputs["codeBinary"] = args?.codeBinary;
            resourceInputs["codeMain"] = args?.codeMain;
            resourceInputs["codeReference"] = args?.codeReference;
            resourceInputs["codeSecret"] = args?.codeSecret;
            resourceInputs["managedDomainMappings"] = args?.managedDomainMappings;
            resourceInputs["name"] = args?.name;
            resourceInputs["projectId"] = args?.projectId;
            resourceInputs["runEnvVariables"] = args?.runEnvVariables;
            resourceInputs["runtime"] = args?.runtime;
            resourceInputs["scaleConcurrency"] = args?.scaleConcurrency;
            resourceInputs["scaleCpuLimit"] = args?.scaleCpuLimit;
            resourceInputs["scaleDownDelay"] = args?.scaleDownDelay;
            resourceInputs["scaleMaxExecutionTime"] = args?.scaleMaxExecutionTime;
            resourceInputs["scaleMemoryLimit"] = args?.scaleMemoryLimit;
            resourceInputs["computedEnvVariables"] = undefined /*out*/;
            resourceInputs["createdAt"] = undefined /*out*/;
            resourceInputs["endpoint"] = undefined /*out*/;
            resourceInputs["endpointInternal"] = undefined /*out*/;
            resourceInputs["entityTag"] = undefined /*out*/;
            resourceInputs["etag"] = undefined /*out*/;
            resourceInputs["functionId"] = undefined /*out*/;
            resourceInputs["href"] = undefined /*out*/;
            resourceInputs["region"] = undefined /*out*/;
            resourceInputs["resourceType"] = undefined /*out*/;
            resourceInputs["status"] = undefined /*out*/;
            resourceInputs["statusDetails"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(CodeEngineFunction.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering CodeEngineFunction resources.
 */
export interface CodeEngineFunctionState {
    /**
     * Specifies whether the code is binary or not. Defaults to false when `codeReference` is set to a data URL. When `codeReference` is set to a code bundle URL, this field is always true.
     */
    codeBinary?: pulumi.Input<boolean>;
    /**
     * Specifies the name of the function that should be invoked.
     */
    codeMain?: pulumi.Input<string>;
    /**
     * Specifies either a reference to a code bundle or the source code itself. To specify the source code, use the data URL scheme and include the source code as base64 encoded. The data URL scheme is defined in [RFC 2397](https://tools.ietf.org/html/rfc2397).
     */
    codeReference?: pulumi.Input<string>;
    /**
     * The name of the secret that is used to access the specified `codeReference`. The secret is used to authenticate with a non-public endpoint that is specified as`codeReference`.
     */
    codeSecret?: pulumi.Input<string>;
    /**
     * References to config maps, secrets or literal values, which are defined and set by Code Engine and are exposed as environment variables in the function.
     */
    computedEnvVariables?: pulumi.Input<pulumi.Input<inputs.CodeEngineFunctionComputedEnvVariable>[]>;
    /**
     * The timestamp when the resource was created.
     */
    createdAt?: pulumi.Input<string>;
    /**
     * URL to invoke the function.
     */
    endpoint?: pulumi.Input<string>;
    /**
     * URL to function that is only visible within the project.
     */
    endpointInternal?: pulumi.Input<string>;
    /**
     * The version of the function instance, which is used to achieve optimistic locking.
     */
    entityTag?: pulumi.Input<string>;
    etag?: pulumi.Input<string>;
    /**
     * The identifier of the resource.
     */
    functionId?: pulumi.Input<string>;
    /**
     * When you provision a new function, a relative URL path is created identifying the location of the instance.
     */
    href?: pulumi.Input<string>;
    /**
     * Optional value controlling which of the system managed domain mappings will be setup for the function. Valid values are 'local_public', 'local_private' and 'local'. Visibility can only be 'local_private' if the project supports function private visibility.
     */
    managedDomainMappings?: pulumi.Input<string>;
    /**
     * The name of the function.
     */
    name?: pulumi.Input<string>;
    /**
     * The ID of the project.
     */
    projectId?: pulumi.Input<string>;
    /**
     * The region of the project the resource is located in. Possible values: 'au-syd', 'br-sao', 'ca-tor', 'eu-de', 'eu-gb', 'jp-osa', 'jp-tok', 'us-east', 'us-south'.
     */
    region?: pulumi.Input<string>;
    /**
     * The type of the function.
     */
    resourceType?: pulumi.Input<string>;
    /**
     * References to config maps, secrets or literal values, which are defined by the function owner and are exposed as environment variables in the function.
     */
    runEnvVariables?: pulumi.Input<pulumi.Input<inputs.CodeEngineFunctionRunEnvVariable>[]>;
    /**
     * The managed runtime used to execute the injected code.
     */
    runtime?: pulumi.Input<string>;
    /**
     * Number of parallel requests handled by a single instance, supported only by Node.js, default is `1`.
     */
    scaleConcurrency?: pulumi.Input<number>;
    /**
     * Optional amount of CPU set for the instance of the function. For valid values see [Supported memory and CPU combinations](https://cloud.ibm.com/docs/codeengine?topic=codeengine-mem-cpu-combo).
     */
    scaleCpuLimit?: pulumi.Input<string>;
    /**
     * Optional amount of time in seconds that delays the scale down behavior for a function.
     */
    scaleDownDelay?: pulumi.Input<number>;
    /**
     * Timeout in secs after which the function is terminated.
     */
    scaleMaxExecutionTime?: pulumi.Input<number>;
    /**
     * Optional amount of memory set for the instance of the function. For valid values see [Supported memory and CPU combinations](https://cloud.ibm.com/docs/codeengine?topic=codeengine-mem-cpu-combo). The units for specifying memory are Megabyte (M) or Gigabyte (G), whereas G and M are the shorthand expressions for GB and MB. For more information see [Units of measurement](https://cloud.ibm.com/docs/codeengine?topic=codeengine-mem-cpu-combo#unit-measurements).
     */
    scaleMemoryLimit?: pulumi.Input<string>;
    /**
     * The current status of the function.
     */
    status?: pulumi.Input<string>;
    /**
     * The detailed status of the function.
     */
    statusDetails?: pulumi.Input<pulumi.Input<inputs.CodeEngineFunctionStatusDetail>[]>;
}

/**
 * The set of arguments for constructing a CodeEngineFunction resource.
 */
export interface CodeEngineFunctionArgs {
    /**
     * Specifies whether the code is binary or not. Defaults to false when `codeReference` is set to a data URL. When `codeReference` is set to a code bundle URL, this field is always true.
     */
    codeBinary?: pulumi.Input<boolean>;
    /**
     * Specifies the name of the function that should be invoked.
     */
    codeMain?: pulumi.Input<string>;
    /**
     * Specifies either a reference to a code bundle or the source code itself. To specify the source code, use the data URL scheme and include the source code as base64 encoded. The data URL scheme is defined in [RFC 2397](https://tools.ietf.org/html/rfc2397).
     */
    codeReference: pulumi.Input<string>;
    /**
     * The name of the secret that is used to access the specified `codeReference`. The secret is used to authenticate with a non-public endpoint that is specified as`codeReference`.
     */
    codeSecret?: pulumi.Input<string>;
    /**
     * Optional value controlling which of the system managed domain mappings will be setup for the function. Valid values are 'local_public', 'local_private' and 'local'. Visibility can only be 'local_private' if the project supports function private visibility.
     */
    managedDomainMappings?: pulumi.Input<string>;
    /**
     * The name of the function.
     */
    name?: pulumi.Input<string>;
    /**
     * The ID of the project.
     */
    projectId: pulumi.Input<string>;
    /**
     * References to config maps, secrets or literal values, which are defined by the function owner and are exposed as environment variables in the function.
     */
    runEnvVariables?: pulumi.Input<pulumi.Input<inputs.CodeEngineFunctionRunEnvVariable>[]>;
    /**
     * The managed runtime used to execute the injected code.
     */
    runtime: pulumi.Input<string>;
    /**
     * Number of parallel requests handled by a single instance, supported only by Node.js, default is `1`.
     */
    scaleConcurrency?: pulumi.Input<number>;
    /**
     * Optional amount of CPU set for the instance of the function. For valid values see [Supported memory and CPU combinations](https://cloud.ibm.com/docs/codeengine?topic=codeengine-mem-cpu-combo).
     */
    scaleCpuLimit?: pulumi.Input<string>;
    /**
     * Optional amount of time in seconds that delays the scale down behavior for a function.
     */
    scaleDownDelay?: pulumi.Input<number>;
    /**
     * Timeout in secs after which the function is terminated.
     */
    scaleMaxExecutionTime?: pulumi.Input<number>;
    /**
     * Optional amount of memory set for the instance of the function. For valid values see [Supported memory and CPU combinations](https://cloud.ibm.com/docs/codeengine?topic=codeengine-mem-cpu-combo). The units for specifying memory are Megabyte (M) or Gigabyte (G), whereas G and M are the shorthand expressions for GB and MB. For more information see [Units of measurement](https://cloud.ibm.com/docs/codeengine?topic=codeengine-mem-cpu-combo#unit-measurements).
     */
    scaleMemoryLimit?: pulumi.Input<string>;
}
