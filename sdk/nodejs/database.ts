// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as utilities from "./utilities";

export class Database extends pulumi.CustomResource {
    /**
     * Get an existing Database resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: DatabaseState, opts?: pulumi.CustomResourceOptions): Database {
        return new Database(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'ibmcloud:index/database:Database';

    /**
     * Returns true if the given object is an instance of Database.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Database {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Database.__pulumiType;
    }

    /**
     * The admin user password for the instance
     */
    declare public readonly adminpassword: pulumi.Output<string | undefined>;
    /**
     * The admin user id for the instance
     */
    declare public /*out*/ readonly adminuser: pulumi.Output<string>;
    declare public readonly allowlists: pulumi.Output<outputs.DatabaseAllowlist[] | undefined>;
    /**
     * ICD Auto Scaling
     */
    declare public readonly autoScaling: pulumi.Output<outputs.DatabaseAutoScaling>;
    /**
     * The Backup Encryption Key CRN
     */
    declare public readonly backupEncryptionKeyCrn: pulumi.Output<string | undefined>;
    /**
     * The CRN of backup source database
     */
    declare public readonly backupId: pulumi.Output<string | undefined>;
    /**
     * The configuration in JSON format
     */
    declare public readonly configuration: pulumi.Output<string | undefined>;
    /**
     * The configuration schema in JSON format
     */
    declare public /*out*/ readonly configurationSchema: pulumi.Output<string>;
    declare public readonly deletionProtection: pulumi.Output<boolean | undefined>;
    declare public readonly group: pulumi.Output<outputs.DatabaseGroup[] | undefined>;
    declare public /*out*/ readonly groups: pulumi.Output<outputs.DatabaseGroup[]>;
    /**
     * Unique identifier of resource instance
     */
    declare public /*out*/ readonly guid: pulumi.Output<string>;
    /**
     * The CRN of Key protect instance
     */
    declare public readonly keyProtectInstance: pulumi.Output<string | undefined>;
    /**
     * The CRN of Key protect key
     */
    declare public readonly keyProtectKey: pulumi.Output<string | undefined>;
    /**
     * The location or the region in which Database instance exists
     */
    declare public readonly location: pulumi.Output<string>;
    declare public readonly logicalReplicationSlots: pulumi.Output<outputs.DatabaseLogicalReplicationSlot[] | undefined>;
    /**
     * Resource instance name for example, my Database instance
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * Set offline restore mode for MongoDB Enterprise Edition
     */
    declare public readonly offlineRestore: pulumi.Output<boolean | undefined>;
    /**
     * The plan type of the Database instance
     */
    declare public readonly plan: pulumi.Output<string>;
    /**
     * The CRN of source instance
     */
    declare public readonly pointInTimeRecoveryDeploymentId: pulumi.Output<string | undefined>;
    /**
     * The point in time recovery time stamp of the deployed instance
     */
    declare public readonly pointInTimeRecoveryTime: pulumi.Output<string | undefined>;
    /**
     * The CRN of leader database
     */
    declare public readonly remoteLeaderId: pulumi.Output<string | undefined>;
    /**
     * The URL of the IBM Cloud dashboard that can be used to explore and view details about the resource
     */
    declare public /*out*/ readonly resourceControllerUrl: pulumi.Output<string>;
    /**
     * The crn of the resource
     */
    declare public /*out*/ readonly resourceCrn: pulumi.Output<string>;
    /**
     * The id of the resource group in which the Database instance is present
     */
    declare public readonly resourceGroupId: pulumi.Output<string>;
    /**
     * The resource group name in which resource is provisioned
     */
    declare public /*out*/ readonly resourceGroupName: pulumi.Output<string>;
    /**
     * The name of the resource
     */
    declare public /*out*/ readonly resourceName: pulumi.Output<string>;
    /**
     * The status of the resource
     */
    declare public /*out*/ readonly resourceStatus: pulumi.Output<string>;
    /**
     * The name of the Cloud Internet database service
     */
    declare public readonly service: pulumi.Output<string>;
    /**
     * Types of the service endpoints. Possible values are 'public', 'private', 'public-and-private'.
     */
    declare public readonly serviceEndpoints: pulumi.Output<string>;
    /**
     * Option to skip the initial backup when promoting a read-only replica. Skipping the initial backup means that your replica becomes available more quickly, but there is no immediate backup available.
     */
    declare public readonly skipInitialBackup: pulumi.Output<boolean | undefined>;
    /**
     * The resource instance status
     */
    declare public /*out*/ readonly status: pulumi.Output<string>;
    declare public readonly tags: pulumi.Output<string[]>;
    declare public readonly users: pulumi.Output<outputs.DatabaseUser[] | undefined>;
    /**
     * The database version to provision if specified or the database version to upgrade to
     */
    declare public readonly version: pulumi.Output<string>;
    /**
     * Option to skip the backup when upgrading version. Only applicable to databases that do not support PITR. Skipping the backup means that your deployment becomes available more quickly, but there is no immediate backup available. This is not recommended as it could result in data loss
     */
    declare public readonly versionUpgradeSkipBackup: pulumi.Output<boolean | undefined>;

    /**
     * Create a Database resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: DatabaseArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: DatabaseArgs | DatabaseState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as DatabaseState | undefined;
            resourceInputs["adminpassword"] = state?.adminpassword;
            resourceInputs["adminuser"] = state?.adminuser;
            resourceInputs["allowlists"] = state?.allowlists;
            resourceInputs["autoScaling"] = state?.autoScaling;
            resourceInputs["backupEncryptionKeyCrn"] = state?.backupEncryptionKeyCrn;
            resourceInputs["backupId"] = state?.backupId;
            resourceInputs["configuration"] = state?.configuration;
            resourceInputs["configurationSchema"] = state?.configurationSchema;
            resourceInputs["deletionProtection"] = state?.deletionProtection;
            resourceInputs["group"] = state?.group;
            resourceInputs["groups"] = state?.groups;
            resourceInputs["guid"] = state?.guid;
            resourceInputs["keyProtectInstance"] = state?.keyProtectInstance;
            resourceInputs["keyProtectKey"] = state?.keyProtectKey;
            resourceInputs["location"] = state?.location;
            resourceInputs["logicalReplicationSlots"] = state?.logicalReplicationSlots;
            resourceInputs["name"] = state?.name;
            resourceInputs["offlineRestore"] = state?.offlineRestore;
            resourceInputs["plan"] = state?.plan;
            resourceInputs["pointInTimeRecoveryDeploymentId"] = state?.pointInTimeRecoveryDeploymentId;
            resourceInputs["pointInTimeRecoveryTime"] = state?.pointInTimeRecoveryTime;
            resourceInputs["remoteLeaderId"] = state?.remoteLeaderId;
            resourceInputs["resourceControllerUrl"] = state?.resourceControllerUrl;
            resourceInputs["resourceCrn"] = state?.resourceCrn;
            resourceInputs["resourceGroupId"] = state?.resourceGroupId;
            resourceInputs["resourceGroupName"] = state?.resourceGroupName;
            resourceInputs["resourceName"] = state?.resourceName;
            resourceInputs["resourceStatus"] = state?.resourceStatus;
            resourceInputs["service"] = state?.service;
            resourceInputs["serviceEndpoints"] = state?.serviceEndpoints;
            resourceInputs["skipInitialBackup"] = state?.skipInitialBackup;
            resourceInputs["status"] = state?.status;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["users"] = state?.users;
            resourceInputs["version"] = state?.version;
            resourceInputs["versionUpgradeSkipBackup"] = state?.versionUpgradeSkipBackup;
        } else {
            const args = argsOrState as DatabaseArgs | undefined;
            if (args?.location === undefined && !opts.urn) {
                throw new Error("Missing required property 'location'");
            }
            if (args?.plan === undefined && !opts.urn) {
                throw new Error("Missing required property 'plan'");
            }
            if (args?.service === undefined && !opts.urn) {
                throw new Error("Missing required property 'service'");
            }
            if (args?.serviceEndpoints === undefined && !opts.urn) {
                throw new Error("Missing required property 'serviceEndpoints'");
            }
            resourceInputs["adminpassword"] = args?.adminpassword ? pulumi.secret(args.adminpassword) : undefined;
            resourceInputs["allowlists"] = args?.allowlists;
            resourceInputs["autoScaling"] = args?.autoScaling;
            resourceInputs["backupEncryptionKeyCrn"] = args?.backupEncryptionKeyCrn;
            resourceInputs["backupId"] = args?.backupId;
            resourceInputs["configuration"] = args?.configuration;
            resourceInputs["deletionProtection"] = args?.deletionProtection;
            resourceInputs["group"] = args?.group;
            resourceInputs["keyProtectInstance"] = args?.keyProtectInstance;
            resourceInputs["keyProtectKey"] = args?.keyProtectKey;
            resourceInputs["location"] = args?.location;
            resourceInputs["logicalReplicationSlots"] = args?.logicalReplicationSlots;
            resourceInputs["name"] = args?.name;
            resourceInputs["offlineRestore"] = args?.offlineRestore;
            resourceInputs["plan"] = args?.plan;
            resourceInputs["pointInTimeRecoveryDeploymentId"] = args?.pointInTimeRecoveryDeploymentId;
            resourceInputs["pointInTimeRecoveryTime"] = args?.pointInTimeRecoveryTime;
            resourceInputs["remoteLeaderId"] = args?.remoteLeaderId;
            resourceInputs["resourceGroupId"] = args?.resourceGroupId;
            resourceInputs["service"] = args?.service;
            resourceInputs["serviceEndpoints"] = args?.serviceEndpoints;
            resourceInputs["skipInitialBackup"] = args?.skipInitialBackup;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["users"] = args?.users;
            resourceInputs["version"] = args?.version;
            resourceInputs["versionUpgradeSkipBackup"] = args?.versionUpgradeSkipBackup;
            resourceInputs["adminuser"] = undefined /*out*/;
            resourceInputs["configurationSchema"] = undefined /*out*/;
            resourceInputs["groups"] = undefined /*out*/;
            resourceInputs["guid"] = undefined /*out*/;
            resourceInputs["resourceControllerUrl"] = undefined /*out*/;
            resourceInputs["resourceCrn"] = undefined /*out*/;
            resourceInputs["resourceGroupName"] = undefined /*out*/;
            resourceInputs["resourceName"] = undefined /*out*/;
            resourceInputs["resourceStatus"] = undefined /*out*/;
            resourceInputs["status"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        const secretOpts = { additionalSecretOutputs: ["adminpassword"] };
        opts = pulumi.mergeOptions(opts, secretOpts);
        super(Database.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Database resources.
 */
export interface DatabaseState {
    /**
     * The admin user password for the instance
     */
    adminpassword?: pulumi.Input<string>;
    /**
     * The admin user id for the instance
     */
    adminuser?: pulumi.Input<string>;
    allowlists?: pulumi.Input<pulumi.Input<inputs.DatabaseAllowlist>[]>;
    /**
     * ICD Auto Scaling
     */
    autoScaling?: pulumi.Input<inputs.DatabaseAutoScaling>;
    /**
     * The Backup Encryption Key CRN
     */
    backupEncryptionKeyCrn?: pulumi.Input<string>;
    /**
     * The CRN of backup source database
     */
    backupId?: pulumi.Input<string>;
    /**
     * The configuration in JSON format
     */
    configuration?: pulumi.Input<string>;
    /**
     * The configuration schema in JSON format
     */
    configurationSchema?: pulumi.Input<string>;
    deletionProtection?: pulumi.Input<boolean>;
    group?: pulumi.Input<pulumi.Input<inputs.DatabaseGroup>[]>;
    groups?: pulumi.Input<pulumi.Input<inputs.DatabaseGroup>[]>;
    /**
     * Unique identifier of resource instance
     */
    guid?: pulumi.Input<string>;
    /**
     * The CRN of Key protect instance
     */
    keyProtectInstance?: pulumi.Input<string>;
    /**
     * The CRN of Key protect key
     */
    keyProtectKey?: pulumi.Input<string>;
    /**
     * The location or the region in which Database instance exists
     */
    location?: pulumi.Input<string>;
    logicalReplicationSlots?: pulumi.Input<pulumi.Input<inputs.DatabaseLogicalReplicationSlot>[]>;
    /**
     * Resource instance name for example, my Database instance
     */
    name?: pulumi.Input<string>;
    /**
     * Set offline restore mode for MongoDB Enterprise Edition
     */
    offlineRestore?: pulumi.Input<boolean>;
    /**
     * The plan type of the Database instance
     */
    plan?: pulumi.Input<string>;
    /**
     * The CRN of source instance
     */
    pointInTimeRecoveryDeploymentId?: pulumi.Input<string>;
    /**
     * The point in time recovery time stamp of the deployed instance
     */
    pointInTimeRecoveryTime?: pulumi.Input<string>;
    /**
     * The CRN of leader database
     */
    remoteLeaderId?: pulumi.Input<string>;
    /**
     * The URL of the IBM Cloud dashboard that can be used to explore and view details about the resource
     */
    resourceControllerUrl?: pulumi.Input<string>;
    /**
     * The crn of the resource
     */
    resourceCrn?: pulumi.Input<string>;
    /**
     * The id of the resource group in which the Database instance is present
     */
    resourceGroupId?: pulumi.Input<string>;
    /**
     * The resource group name in which resource is provisioned
     */
    resourceGroupName?: pulumi.Input<string>;
    /**
     * The name of the resource
     */
    resourceName?: pulumi.Input<string>;
    /**
     * The status of the resource
     */
    resourceStatus?: pulumi.Input<string>;
    /**
     * The name of the Cloud Internet database service
     */
    service?: pulumi.Input<string>;
    /**
     * Types of the service endpoints. Possible values are 'public', 'private', 'public-and-private'.
     */
    serviceEndpoints?: pulumi.Input<string>;
    /**
     * Option to skip the initial backup when promoting a read-only replica. Skipping the initial backup means that your replica becomes available more quickly, but there is no immediate backup available.
     */
    skipInitialBackup?: pulumi.Input<boolean>;
    /**
     * The resource instance status
     */
    status?: pulumi.Input<string>;
    tags?: pulumi.Input<pulumi.Input<string>[]>;
    users?: pulumi.Input<pulumi.Input<inputs.DatabaseUser>[]>;
    /**
     * The database version to provision if specified or the database version to upgrade to
     */
    version?: pulumi.Input<string>;
    /**
     * Option to skip the backup when upgrading version. Only applicable to databases that do not support PITR. Skipping the backup means that your deployment becomes available more quickly, but there is no immediate backup available. This is not recommended as it could result in data loss
     */
    versionUpgradeSkipBackup?: pulumi.Input<boolean>;
}

/**
 * The set of arguments for constructing a Database resource.
 */
export interface DatabaseArgs {
    /**
     * The admin user password for the instance
     */
    adminpassword?: pulumi.Input<string>;
    allowlists?: pulumi.Input<pulumi.Input<inputs.DatabaseAllowlist>[]>;
    /**
     * ICD Auto Scaling
     */
    autoScaling?: pulumi.Input<inputs.DatabaseAutoScaling>;
    /**
     * The Backup Encryption Key CRN
     */
    backupEncryptionKeyCrn?: pulumi.Input<string>;
    /**
     * The CRN of backup source database
     */
    backupId?: pulumi.Input<string>;
    /**
     * The configuration in JSON format
     */
    configuration?: pulumi.Input<string>;
    deletionProtection?: pulumi.Input<boolean>;
    group?: pulumi.Input<pulumi.Input<inputs.DatabaseGroup>[]>;
    /**
     * The CRN of Key protect instance
     */
    keyProtectInstance?: pulumi.Input<string>;
    /**
     * The CRN of Key protect key
     */
    keyProtectKey?: pulumi.Input<string>;
    /**
     * The location or the region in which Database instance exists
     */
    location: pulumi.Input<string>;
    logicalReplicationSlots?: pulumi.Input<pulumi.Input<inputs.DatabaseLogicalReplicationSlot>[]>;
    /**
     * Resource instance name for example, my Database instance
     */
    name?: pulumi.Input<string>;
    /**
     * Set offline restore mode for MongoDB Enterprise Edition
     */
    offlineRestore?: pulumi.Input<boolean>;
    /**
     * The plan type of the Database instance
     */
    plan: pulumi.Input<string>;
    /**
     * The CRN of source instance
     */
    pointInTimeRecoveryDeploymentId?: pulumi.Input<string>;
    /**
     * The point in time recovery time stamp of the deployed instance
     */
    pointInTimeRecoveryTime?: pulumi.Input<string>;
    /**
     * The CRN of leader database
     */
    remoteLeaderId?: pulumi.Input<string>;
    /**
     * The id of the resource group in which the Database instance is present
     */
    resourceGroupId?: pulumi.Input<string>;
    /**
     * The name of the Cloud Internet database service
     */
    service: pulumi.Input<string>;
    /**
     * Types of the service endpoints. Possible values are 'public', 'private', 'public-and-private'.
     */
    serviceEndpoints: pulumi.Input<string>;
    /**
     * Option to skip the initial backup when promoting a read-only replica. Skipping the initial backup means that your replica becomes available more quickly, but there is no immediate backup available.
     */
    skipInitialBackup?: pulumi.Input<boolean>;
    tags?: pulumi.Input<pulumi.Input<string>[]>;
    users?: pulumi.Input<pulumi.Input<inputs.DatabaseUser>[]>;
    /**
     * The database version to provision if specified or the database version to upgrade to
     */
    version?: pulumi.Input<string>;
    /**
     * Option to skip the backup when upgrading version. Only applicable to databases that do not support PITR. Skipping the backup means that your deployment becomes available more quickly, but there is no immediate backup available. This is not recommended as it could result in data loss
     */
    versionUpgradeSkipBackup?: pulumi.Input<boolean>;
}
