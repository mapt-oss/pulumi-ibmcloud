// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ibmcloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/mapt-oss/pulumi-ibmcloud/sdk/go/ibmcloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

type CbrRule struct {
	pulumi.CustomResourceState

	// The contexts this rule applies to.
	Contexts CbrRuleContextArrayOutput `pulumi:"contexts"`
	// The time the resource was created.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// IAM ID of the user or service which created the resource.
	CreatedById pulumi.StringOutput `pulumi:"createdById"`
	// The rule CRN.
	Crn pulumi.StringOutput `pulumi:"crn"`
	// The description of the rule.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The rule enforcement mode: * `enabled` - The restrictions are enforced and reported. This is the default. * `disabled` - The restrictions are disabled. Nothing is enforced or reported. * `report` - The restrictions are evaluated and reported, but not enforced.
	EnforcementMode pulumi.StringOutput `pulumi:"enforcementMode"`
	Etag            pulumi.StringOutput `pulumi:"etag"`
	// The href link to the resource.
	Href pulumi.StringOutput `pulumi:"href"`
	// The last time the resource was modified.
	LastModifiedAt pulumi.StringOutput `pulumi:"lastModifiedAt"`
	// IAM ID of the user or service which modified the resource.
	LastModifiedById pulumi.StringOutput `pulumi:"lastModifiedById"`
	// The operations this rule applies to.
	Operations CbrRuleOperationsOutput `pulumi:"operations"`
	// The resources this rule apply to.
	Resources CbrRuleResourceArrayOutput `pulumi:"resources"`
	// The `Transaction-Id` header behaves as the `X-Correlation-Id` header. It is supported for backward compatibility with other IBM platform services that support the `Transaction-Id` header only. If both `X-Correlation-Id` and `Transaction-Id` are provided, `X-Correlation-Id` has the precedence over `Transaction-Id`.
	//
	// Deprecated: This argument is deprecated and may be removed in a future release
	TransactionId pulumi.StringPtrOutput `pulumi:"transactionId"`
	// The supplied or generated value of this header is logged for a request and repeated in a response header for the corresponding response. The same value is used for downstream requests and retries of those requests. If a value of this headers is not supplied in a request, the service generates a random (version 4) UUID.
	XCorrelationId pulumi.StringPtrOutput `pulumi:"xCorrelationId"`
}

// NewCbrRule registers a new resource with the given unique name, arguments, and options.
func NewCbrRule(ctx *pulumi.Context,
	name string, args *CbrRuleArgs, opts ...pulumi.ResourceOption) (*CbrRule, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Resources == nil {
		return nil, errors.New("invalid value for required argument 'Resources'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource CbrRule
	err := ctx.RegisterResource("ibmcloud:index/cbrRule:CbrRule", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCbrRule gets an existing CbrRule resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCbrRule(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CbrRuleState, opts ...pulumi.ResourceOption) (*CbrRule, error) {
	var resource CbrRule
	err := ctx.ReadResource("ibmcloud:index/cbrRule:CbrRule", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CbrRule resources.
type cbrRuleState struct {
	// The contexts this rule applies to.
	Contexts []CbrRuleContext `pulumi:"contexts"`
	// The time the resource was created.
	CreatedAt *string `pulumi:"createdAt"`
	// IAM ID of the user or service which created the resource.
	CreatedById *string `pulumi:"createdById"`
	// The rule CRN.
	Crn *string `pulumi:"crn"`
	// The description of the rule.
	Description *string `pulumi:"description"`
	// The rule enforcement mode: * `enabled` - The restrictions are enforced and reported. This is the default. * `disabled` - The restrictions are disabled. Nothing is enforced or reported. * `report` - The restrictions are evaluated and reported, but not enforced.
	EnforcementMode *string `pulumi:"enforcementMode"`
	Etag            *string `pulumi:"etag"`
	// The href link to the resource.
	Href *string `pulumi:"href"`
	// The last time the resource was modified.
	LastModifiedAt *string `pulumi:"lastModifiedAt"`
	// IAM ID of the user or service which modified the resource.
	LastModifiedById *string `pulumi:"lastModifiedById"`
	// The operations this rule applies to.
	Operations *CbrRuleOperations `pulumi:"operations"`
	// The resources this rule apply to.
	Resources []CbrRuleResource `pulumi:"resources"`
	// The `Transaction-Id` header behaves as the `X-Correlation-Id` header. It is supported for backward compatibility with other IBM platform services that support the `Transaction-Id` header only. If both `X-Correlation-Id` and `Transaction-Id` are provided, `X-Correlation-Id` has the precedence over `Transaction-Id`.
	//
	// Deprecated: This argument is deprecated and may be removed in a future release
	TransactionId *string `pulumi:"transactionId"`
	// The supplied or generated value of this header is logged for a request and repeated in a response header for the corresponding response. The same value is used for downstream requests and retries of those requests. If a value of this headers is not supplied in a request, the service generates a random (version 4) UUID.
	XCorrelationId *string `pulumi:"xCorrelationId"`
}

type CbrRuleState struct {
	// The contexts this rule applies to.
	Contexts CbrRuleContextArrayInput
	// The time the resource was created.
	CreatedAt pulumi.StringPtrInput
	// IAM ID of the user or service which created the resource.
	CreatedById pulumi.StringPtrInput
	// The rule CRN.
	Crn pulumi.StringPtrInput
	// The description of the rule.
	Description pulumi.StringPtrInput
	// The rule enforcement mode: * `enabled` - The restrictions are enforced and reported. This is the default. * `disabled` - The restrictions are disabled. Nothing is enforced or reported. * `report` - The restrictions are evaluated and reported, but not enforced.
	EnforcementMode pulumi.StringPtrInput
	Etag            pulumi.StringPtrInput
	// The href link to the resource.
	Href pulumi.StringPtrInput
	// The last time the resource was modified.
	LastModifiedAt pulumi.StringPtrInput
	// IAM ID of the user or service which modified the resource.
	LastModifiedById pulumi.StringPtrInput
	// The operations this rule applies to.
	Operations CbrRuleOperationsPtrInput
	// The resources this rule apply to.
	Resources CbrRuleResourceArrayInput
	// The `Transaction-Id` header behaves as the `X-Correlation-Id` header. It is supported for backward compatibility with other IBM platform services that support the `Transaction-Id` header only. If both `X-Correlation-Id` and `Transaction-Id` are provided, `X-Correlation-Id` has the precedence over `Transaction-Id`.
	//
	// Deprecated: This argument is deprecated and may be removed in a future release
	TransactionId pulumi.StringPtrInput
	// The supplied or generated value of this header is logged for a request and repeated in a response header for the corresponding response. The same value is used for downstream requests and retries of those requests. If a value of this headers is not supplied in a request, the service generates a random (version 4) UUID.
	XCorrelationId pulumi.StringPtrInput
}

func (CbrRuleState) ElementType() reflect.Type {
	return reflect.TypeOf((*cbrRuleState)(nil)).Elem()
}

type cbrRuleArgs struct {
	// The contexts this rule applies to.
	Contexts []CbrRuleContext `pulumi:"contexts"`
	// The description of the rule.
	Description *string `pulumi:"description"`
	// The rule enforcement mode: * `enabled` - The restrictions are enforced and reported. This is the default. * `disabled` - The restrictions are disabled. Nothing is enforced or reported. * `report` - The restrictions are evaluated and reported, but not enforced.
	EnforcementMode *string `pulumi:"enforcementMode"`
	// The operations this rule applies to.
	Operations *CbrRuleOperations `pulumi:"operations"`
	// The resources this rule apply to.
	Resources []CbrRuleResource `pulumi:"resources"`
	// The `Transaction-Id` header behaves as the `X-Correlation-Id` header. It is supported for backward compatibility with other IBM platform services that support the `Transaction-Id` header only. If both `X-Correlation-Id` and `Transaction-Id` are provided, `X-Correlation-Id` has the precedence over `Transaction-Id`.
	//
	// Deprecated: This argument is deprecated and may be removed in a future release
	TransactionId *string `pulumi:"transactionId"`
	// The supplied or generated value of this header is logged for a request and repeated in a response header for the corresponding response. The same value is used for downstream requests and retries of those requests. If a value of this headers is not supplied in a request, the service generates a random (version 4) UUID.
	XCorrelationId *string `pulumi:"xCorrelationId"`
}

// The set of arguments for constructing a CbrRule resource.
type CbrRuleArgs struct {
	// The contexts this rule applies to.
	Contexts CbrRuleContextArrayInput
	// The description of the rule.
	Description pulumi.StringPtrInput
	// The rule enforcement mode: * `enabled` - The restrictions are enforced and reported. This is the default. * `disabled` - The restrictions are disabled. Nothing is enforced or reported. * `report` - The restrictions are evaluated and reported, but not enforced.
	EnforcementMode pulumi.StringPtrInput
	// The operations this rule applies to.
	Operations CbrRuleOperationsPtrInput
	// The resources this rule apply to.
	Resources CbrRuleResourceArrayInput
	// The `Transaction-Id` header behaves as the `X-Correlation-Id` header. It is supported for backward compatibility with other IBM platform services that support the `Transaction-Id` header only. If both `X-Correlation-Id` and `Transaction-Id` are provided, `X-Correlation-Id` has the precedence over `Transaction-Id`.
	//
	// Deprecated: This argument is deprecated and may be removed in a future release
	TransactionId pulumi.StringPtrInput
	// The supplied or generated value of this header is logged for a request and repeated in a response header for the corresponding response. The same value is used for downstream requests and retries of those requests. If a value of this headers is not supplied in a request, the service generates a random (version 4) UUID.
	XCorrelationId pulumi.StringPtrInput
}

func (CbrRuleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*cbrRuleArgs)(nil)).Elem()
}

type CbrRuleInput interface {
	pulumi.Input

	ToCbrRuleOutput() CbrRuleOutput
	ToCbrRuleOutputWithContext(ctx context.Context) CbrRuleOutput
}

func (*CbrRule) ElementType() reflect.Type {
	return reflect.TypeOf((**CbrRule)(nil)).Elem()
}

func (i *CbrRule) ToCbrRuleOutput() CbrRuleOutput {
	return i.ToCbrRuleOutputWithContext(context.Background())
}

func (i *CbrRule) ToCbrRuleOutputWithContext(ctx context.Context) CbrRuleOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CbrRuleOutput)
}

// CbrRuleArrayInput is an input type that accepts CbrRuleArray and CbrRuleArrayOutput values.
// You can construct a concrete instance of `CbrRuleArrayInput` via:
//
//	CbrRuleArray{ CbrRuleArgs{...} }
type CbrRuleArrayInput interface {
	pulumi.Input

	ToCbrRuleArrayOutput() CbrRuleArrayOutput
	ToCbrRuleArrayOutputWithContext(context.Context) CbrRuleArrayOutput
}

type CbrRuleArray []CbrRuleInput

func (CbrRuleArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CbrRule)(nil)).Elem()
}

func (i CbrRuleArray) ToCbrRuleArrayOutput() CbrRuleArrayOutput {
	return i.ToCbrRuleArrayOutputWithContext(context.Background())
}

func (i CbrRuleArray) ToCbrRuleArrayOutputWithContext(ctx context.Context) CbrRuleArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CbrRuleArrayOutput)
}

// CbrRuleMapInput is an input type that accepts CbrRuleMap and CbrRuleMapOutput values.
// You can construct a concrete instance of `CbrRuleMapInput` via:
//
//	CbrRuleMap{ "key": CbrRuleArgs{...} }
type CbrRuleMapInput interface {
	pulumi.Input

	ToCbrRuleMapOutput() CbrRuleMapOutput
	ToCbrRuleMapOutputWithContext(context.Context) CbrRuleMapOutput
}

type CbrRuleMap map[string]CbrRuleInput

func (CbrRuleMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CbrRule)(nil)).Elem()
}

func (i CbrRuleMap) ToCbrRuleMapOutput() CbrRuleMapOutput {
	return i.ToCbrRuleMapOutputWithContext(context.Background())
}

func (i CbrRuleMap) ToCbrRuleMapOutputWithContext(ctx context.Context) CbrRuleMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CbrRuleMapOutput)
}

type CbrRuleOutput struct{ *pulumi.OutputState }

func (CbrRuleOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**CbrRule)(nil)).Elem()
}

func (o CbrRuleOutput) ToCbrRuleOutput() CbrRuleOutput {
	return o
}

func (o CbrRuleOutput) ToCbrRuleOutputWithContext(ctx context.Context) CbrRuleOutput {
	return o
}

// The contexts this rule applies to.
func (o CbrRuleOutput) Contexts() CbrRuleContextArrayOutput {
	return o.ApplyT(func(v *CbrRule) CbrRuleContextArrayOutput { return v.Contexts }).(CbrRuleContextArrayOutput)
}

// The time the resource was created.
func (o CbrRuleOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// IAM ID of the user or service which created the resource.
func (o CbrRuleOutput) CreatedById() pulumi.StringOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringOutput { return v.CreatedById }).(pulumi.StringOutput)
}

// The rule CRN.
func (o CbrRuleOutput) Crn() pulumi.StringOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringOutput { return v.Crn }).(pulumi.StringOutput)
}

// The description of the rule.
func (o CbrRuleOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The rule enforcement mode: * `enabled` - The restrictions are enforced and reported. This is the default. * `disabled` - The restrictions are disabled. Nothing is enforced or reported. * `report` - The restrictions are evaluated and reported, but not enforced.
func (o CbrRuleOutput) EnforcementMode() pulumi.StringOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringOutput { return v.EnforcementMode }).(pulumi.StringOutput)
}

func (o CbrRuleOutput) Etag() pulumi.StringOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringOutput { return v.Etag }).(pulumi.StringOutput)
}

// The href link to the resource.
func (o CbrRuleOutput) Href() pulumi.StringOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringOutput { return v.Href }).(pulumi.StringOutput)
}

// The last time the resource was modified.
func (o CbrRuleOutput) LastModifiedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringOutput { return v.LastModifiedAt }).(pulumi.StringOutput)
}

// IAM ID of the user or service which modified the resource.
func (o CbrRuleOutput) LastModifiedById() pulumi.StringOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringOutput { return v.LastModifiedById }).(pulumi.StringOutput)
}

// The operations this rule applies to.
func (o CbrRuleOutput) Operations() CbrRuleOperationsOutput {
	return o.ApplyT(func(v *CbrRule) CbrRuleOperationsOutput { return v.Operations }).(CbrRuleOperationsOutput)
}

// The resources this rule apply to.
func (o CbrRuleOutput) Resources() CbrRuleResourceArrayOutput {
	return o.ApplyT(func(v *CbrRule) CbrRuleResourceArrayOutput { return v.Resources }).(CbrRuleResourceArrayOutput)
}

// The `Transaction-Id` header behaves as the `X-Correlation-Id` header. It is supported for backward compatibility with other IBM platform services that support the `Transaction-Id` header only. If both `X-Correlation-Id` and `Transaction-Id` are provided, `X-Correlation-Id` has the precedence over `Transaction-Id`.
//
// Deprecated: This argument is deprecated and may be removed in a future release
func (o CbrRuleOutput) TransactionId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringPtrOutput { return v.TransactionId }).(pulumi.StringPtrOutput)
}

// The supplied or generated value of this header is logged for a request and repeated in a response header for the corresponding response. The same value is used for downstream requests and retries of those requests. If a value of this headers is not supplied in a request, the service generates a random (version 4) UUID.
func (o CbrRuleOutput) XCorrelationId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *CbrRule) pulumi.StringPtrOutput { return v.XCorrelationId }).(pulumi.StringPtrOutput)
}

type CbrRuleArrayOutput struct{ *pulumi.OutputState }

func (CbrRuleArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CbrRule)(nil)).Elem()
}

func (o CbrRuleArrayOutput) ToCbrRuleArrayOutput() CbrRuleArrayOutput {
	return o
}

func (o CbrRuleArrayOutput) ToCbrRuleArrayOutputWithContext(ctx context.Context) CbrRuleArrayOutput {
	return o
}

func (o CbrRuleArrayOutput) Index(i pulumi.IntInput) CbrRuleOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *CbrRule {
		return vs[0].([]*CbrRule)[vs[1].(int)]
	}).(CbrRuleOutput)
}

type CbrRuleMapOutput struct{ *pulumi.OutputState }

func (CbrRuleMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CbrRule)(nil)).Elem()
}

func (o CbrRuleMapOutput) ToCbrRuleMapOutput() CbrRuleMapOutput {
	return o
}

func (o CbrRuleMapOutput) ToCbrRuleMapOutputWithContext(ctx context.Context) CbrRuleMapOutput {
	return o
}

func (o CbrRuleMapOutput) MapIndex(k pulumi.StringInput) CbrRuleOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *CbrRule {
		return vs[0].(map[string]*CbrRule)[vs[1].(string)]
	}).(CbrRuleOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CbrRuleInput)(nil)).Elem(), &CbrRule{})
	pulumi.RegisterInputType(reflect.TypeOf((*CbrRuleArrayInput)(nil)).Elem(), CbrRuleArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*CbrRuleMapInput)(nil)).Elem(), CbrRuleMap{})
	pulumi.RegisterOutputType(CbrRuleOutput{})
	pulumi.RegisterOutputType(CbrRuleArrayOutput{})
	pulumi.RegisterOutputType(CbrRuleMapOutput{})
}
