// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ibmcloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/mapt-oss/pulumi-ibmcloud/sdk/go/ibmcloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

type IamAuthorizationPolicy struct {
	pulumi.CustomResourceState

	// Description of the Policy
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// Set resource attributes.
	ResourceAttributes IamAuthorizationPolicyResourceAttributeArrayOutput `pulumi:"resourceAttributes"`
	// Role names of the policy definition
	Roles pulumi.StringArrayOutput `pulumi:"roles"`
	// The source resource group Id
	SourceResourceGroupId pulumi.StringOutput `pulumi:"sourceResourceGroupId"`
	// The source resource instance Id
	SourceResourceInstanceId pulumi.StringOutput `pulumi:"sourceResourceInstanceId"`
	// Resource type of source service
	SourceResourceType pulumi.StringOutput `pulumi:"sourceResourceType"`
	// Account GUID of source service
	SourceServiceAccount pulumi.StringOutput `pulumi:"sourceServiceAccount"`
	// The source service name
	SourceServiceName pulumi.StringOutput `pulumi:"sourceServiceName"`
	// Set subject attributes.
	SubjectAttributes IamAuthorizationPolicySubjectAttributeArrayOutput `pulumi:"subjectAttributes"`
	// The target resource group Id
	TargetResourceGroupId pulumi.StringOutput `pulumi:"targetResourceGroupId"`
	// The target resource instance Id
	TargetResourceInstanceId pulumi.StringOutput `pulumi:"targetResourceInstanceId"`
	// Resource type of target service
	TargetResourceType pulumi.StringOutput `pulumi:"targetResourceType"`
	// The target service name
	TargetServiceName pulumi.StringOutput `pulumi:"targetServiceName"`
	// Set transactionID for debug
	TransactionId pulumi.StringOutput `pulumi:"transactionId"`
	Version       pulumi.StringOutput `pulumi:"version"`
}

// NewIamAuthorizationPolicy registers a new resource with the given unique name, arguments, and options.
func NewIamAuthorizationPolicy(ctx *pulumi.Context,
	name string, args *IamAuthorizationPolicyArgs, opts ...pulumi.ResourceOption) (*IamAuthorizationPolicy, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Roles == nil {
		return nil, errors.New("invalid value for required argument 'Roles'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource IamAuthorizationPolicy
	err := ctx.RegisterResource("ibmcloud:index/iamAuthorizationPolicy:IamAuthorizationPolicy", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetIamAuthorizationPolicy gets an existing IamAuthorizationPolicy resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetIamAuthorizationPolicy(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *IamAuthorizationPolicyState, opts ...pulumi.ResourceOption) (*IamAuthorizationPolicy, error) {
	var resource IamAuthorizationPolicy
	err := ctx.ReadResource("ibmcloud:index/iamAuthorizationPolicy:IamAuthorizationPolicy", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering IamAuthorizationPolicy resources.
type iamAuthorizationPolicyState struct {
	// Description of the Policy
	Description *string `pulumi:"description"`
	// Set resource attributes.
	ResourceAttributes []IamAuthorizationPolicyResourceAttribute `pulumi:"resourceAttributes"`
	// Role names of the policy definition
	Roles []string `pulumi:"roles"`
	// The source resource group Id
	SourceResourceGroupId *string `pulumi:"sourceResourceGroupId"`
	// The source resource instance Id
	SourceResourceInstanceId *string `pulumi:"sourceResourceInstanceId"`
	// Resource type of source service
	SourceResourceType *string `pulumi:"sourceResourceType"`
	// Account GUID of source service
	SourceServiceAccount *string `pulumi:"sourceServiceAccount"`
	// The source service name
	SourceServiceName *string `pulumi:"sourceServiceName"`
	// Set subject attributes.
	SubjectAttributes []IamAuthorizationPolicySubjectAttribute `pulumi:"subjectAttributes"`
	// The target resource group Id
	TargetResourceGroupId *string `pulumi:"targetResourceGroupId"`
	// The target resource instance Id
	TargetResourceInstanceId *string `pulumi:"targetResourceInstanceId"`
	// Resource type of target service
	TargetResourceType *string `pulumi:"targetResourceType"`
	// The target service name
	TargetServiceName *string `pulumi:"targetServiceName"`
	// Set transactionID for debug
	TransactionId *string `pulumi:"transactionId"`
	Version       *string `pulumi:"version"`
}

type IamAuthorizationPolicyState struct {
	// Description of the Policy
	Description pulumi.StringPtrInput
	// Set resource attributes.
	ResourceAttributes IamAuthorizationPolicyResourceAttributeArrayInput
	// Role names of the policy definition
	Roles pulumi.StringArrayInput
	// The source resource group Id
	SourceResourceGroupId pulumi.StringPtrInput
	// The source resource instance Id
	SourceResourceInstanceId pulumi.StringPtrInput
	// Resource type of source service
	SourceResourceType pulumi.StringPtrInput
	// Account GUID of source service
	SourceServiceAccount pulumi.StringPtrInput
	// The source service name
	SourceServiceName pulumi.StringPtrInput
	// Set subject attributes.
	SubjectAttributes IamAuthorizationPolicySubjectAttributeArrayInput
	// The target resource group Id
	TargetResourceGroupId pulumi.StringPtrInput
	// The target resource instance Id
	TargetResourceInstanceId pulumi.StringPtrInput
	// Resource type of target service
	TargetResourceType pulumi.StringPtrInput
	// The target service name
	TargetServiceName pulumi.StringPtrInput
	// Set transactionID for debug
	TransactionId pulumi.StringPtrInput
	Version       pulumi.StringPtrInput
}

func (IamAuthorizationPolicyState) ElementType() reflect.Type {
	return reflect.TypeOf((*iamAuthorizationPolicyState)(nil)).Elem()
}

type iamAuthorizationPolicyArgs struct {
	// Description of the Policy
	Description *string `pulumi:"description"`
	// Set resource attributes.
	ResourceAttributes []IamAuthorizationPolicyResourceAttribute `pulumi:"resourceAttributes"`
	// Role names of the policy definition
	Roles []string `pulumi:"roles"`
	// The source resource group Id
	SourceResourceGroupId *string `pulumi:"sourceResourceGroupId"`
	// The source resource instance Id
	SourceResourceInstanceId *string `pulumi:"sourceResourceInstanceId"`
	// Resource type of source service
	SourceResourceType *string `pulumi:"sourceResourceType"`
	// Account GUID of source service
	SourceServiceAccount *string `pulumi:"sourceServiceAccount"`
	// The source service name
	SourceServiceName *string `pulumi:"sourceServiceName"`
	// Set subject attributes.
	SubjectAttributes []IamAuthorizationPolicySubjectAttribute `pulumi:"subjectAttributes"`
	// The target resource group Id
	TargetResourceGroupId *string `pulumi:"targetResourceGroupId"`
	// The target resource instance Id
	TargetResourceInstanceId *string `pulumi:"targetResourceInstanceId"`
	// Resource type of target service
	TargetResourceType *string `pulumi:"targetResourceType"`
	// The target service name
	TargetServiceName *string `pulumi:"targetServiceName"`
	// Set transactionID for debug
	TransactionId *string `pulumi:"transactionId"`
}

// The set of arguments for constructing a IamAuthorizationPolicy resource.
type IamAuthorizationPolicyArgs struct {
	// Description of the Policy
	Description pulumi.StringPtrInput
	// Set resource attributes.
	ResourceAttributes IamAuthorizationPolicyResourceAttributeArrayInput
	// Role names of the policy definition
	Roles pulumi.StringArrayInput
	// The source resource group Id
	SourceResourceGroupId pulumi.StringPtrInput
	// The source resource instance Id
	SourceResourceInstanceId pulumi.StringPtrInput
	// Resource type of source service
	SourceResourceType pulumi.StringPtrInput
	// Account GUID of source service
	SourceServiceAccount pulumi.StringPtrInput
	// The source service name
	SourceServiceName pulumi.StringPtrInput
	// Set subject attributes.
	SubjectAttributes IamAuthorizationPolicySubjectAttributeArrayInput
	// The target resource group Id
	TargetResourceGroupId pulumi.StringPtrInput
	// The target resource instance Id
	TargetResourceInstanceId pulumi.StringPtrInput
	// Resource type of target service
	TargetResourceType pulumi.StringPtrInput
	// The target service name
	TargetServiceName pulumi.StringPtrInput
	// Set transactionID for debug
	TransactionId pulumi.StringPtrInput
}

func (IamAuthorizationPolicyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*iamAuthorizationPolicyArgs)(nil)).Elem()
}

type IamAuthorizationPolicyInput interface {
	pulumi.Input

	ToIamAuthorizationPolicyOutput() IamAuthorizationPolicyOutput
	ToIamAuthorizationPolicyOutputWithContext(ctx context.Context) IamAuthorizationPolicyOutput
}

func (*IamAuthorizationPolicy) ElementType() reflect.Type {
	return reflect.TypeOf((**IamAuthorizationPolicy)(nil)).Elem()
}

func (i *IamAuthorizationPolicy) ToIamAuthorizationPolicyOutput() IamAuthorizationPolicyOutput {
	return i.ToIamAuthorizationPolicyOutputWithContext(context.Background())
}

func (i *IamAuthorizationPolicy) ToIamAuthorizationPolicyOutputWithContext(ctx context.Context) IamAuthorizationPolicyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IamAuthorizationPolicyOutput)
}

// IamAuthorizationPolicyArrayInput is an input type that accepts IamAuthorizationPolicyArray and IamAuthorizationPolicyArrayOutput values.
// You can construct a concrete instance of `IamAuthorizationPolicyArrayInput` via:
//
//	IamAuthorizationPolicyArray{ IamAuthorizationPolicyArgs{...} }
type IamAuthorizationPolicyArrayInput interface {
	pulumi.Input

	ToIamAuthorizationPolicyArrayOutput() IamAuthorizationPolicyArrayOutput
	ToIamAuthorizationPolicyArrayOutputWithContext(context.Context) IamAuthorizationPolicyArrayOutput
}

type IamAuthorizationPolicyArray []IamAuthorizationPolicyInput

func (IamAuthorizationPolicyArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*IamAuthorizationPolicy)(nil)).Elem()
}

func (i IamAuthorizationPolicyArray) ToIamAuthorizationPolicyArrayOutput() IamAuthorizationPolicyArrayOutput {
	return i.ToIamAuthorizationPolicyArrayOutputWithContext(context.Background())
}

func (i IamAuthorizationPolicyArray) ToIamAuthorizationPolicyArrayOutputWithContext(ctx context.Context) IamAuthorizationPolicyArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IamAuthorizationPolicyArrayOutput)
}

// IamAuthorizationPolicyMapInput is an input type that accepts IamAuthorizationPolicyMap and IamAuthorizationPolicyMapOutput values.
// You can construct a concrete instance of `IamAuthorizationPolicyMapInput` via:
//
//	IamAuthorizationPolicyMap{ "key": IamAuthorizationPolicyArgs{...} }
type IamAuthorizationPolicyMapInput interface {
	pulumi.Input

	ToIamAuthorizationPolicyMapOutput() IamAuthorizationPolicyMapOutput
	ToIamAuthorizationPolicyMapOutputWithContext(context.Context) IamAuthorizationPolicyMapOutput
}

type IamAuthorizationPolicyMap map[string]IamAuthorizationPolicyInput

func (IamAuthorizationPolicyMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*IamAuthorizationPolicy)(nil)).Elem()
}

func (i IamAuthorizationPolicyMap) ToIamAuthorizationPolicyMapOutput() IamAuthorizationPolicyMapOutput {
	return i.ToIamAuthorizationPolicyMapOutputWithContext(context.Background())
}

func (i IamAuthorizationPolicyMap) ToIamAuthorizationPolicyMapOutputWithContext(ctx context.Context) IamAuthorizationPolicyMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IamAuthorizationPolicyMapOutput)
}

type IamAuthorizationPolicyOutput struct{ *pulumi.OutputState }

func (IamAuthorizationPolicyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**IamAuthorizationPolicy)(nil)).Elem()
}

func (o IamAuthorizationPolicyOutput) ToIamAuthorizationPolicyOutput() IamAuthorizationPolicyOutput {
	return o
}

func (o IamAuthorizationPolicyOutput) ToIamAuthorizationPolicyOutputWithContext(ctx context.Context) IamAuthorizationPolicyOutput {
	return o
}

// Description of the Policy
func (o IamAuthorizationPolicyOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// Set resource attributes.
func (o IamAuthorizationPolicyOutput) ResourceAttributes() IamAuthorizationPolicyResourceAttributeArrayOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) IamAuthorizationPolicyResourceAttributeArrayOutput {
		return v.ResourceAttributes
	}).(IamAuthorizationPolicyResourceAttributeArrayOutput)
}

// Role names of the policy definition
func (o IamAuthorizationPolicyOutput) Roles() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringArrayOutput { return v.Roles }).(pulumi.StringArrayOutput)
}

// The source resource group Id
func (o IamAuthorizationPolicyOutput) SourceResourceGroupId() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.SourceResourceGroupId }).(pulumi.StringOutput)
}

// The source resource instance Id
func (o IamAuthorizationPolicyOutput) SourceResourceInstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.SourceResourceInstanceId }).(pulumi.StringOutput)
}

// Resource type of source service
func (o IamAuthorizationPolicyOutput) SourceResourceType() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.SourceResourceType }).(pulumi.StringOutput)
}

// Account GUID of source service
func (o IamAuthorizationPolicyOutput) SourceServiceAccount() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.SourceServiceAccount }).(pulumi.StringOutput)
}

// The source service name
func (o IamAuthorizationPolicyOutput) SourceServiceName() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.SourceServiceName }).(pulumi.StringOutput)
}

// Set subject attributes.
func (o IamAuthorizationPolicyOutput) SubjectAttributes() IamAuthorizationPolicySubjectAttributeArrayOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) IamAuthorizationPolicySubjectAttributeArrayOutput {
		return v.SubjectAttributes
	}).(IamAuthorizationPolicySubjectAttributeArrayOutput)
}

// The target resource group Id
func (o IamAuthorizationPolicyOutput) TargetResourceGroupId() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.TargetResourceGroupId }).(pulumi.StringOutput)
}

// The target resource instance Id
func (o IamAuthorizationPolicyOutput) TargetResourceInstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.TargetResourceInstanceId }).(pulumi.StringOutput)
}

// Resource type of target service
func (o IamAuthorizationPolicyOutput) TargetResourceType() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.TargetResourceType }).(pulumi.StringOutput)
}

// The target service name
func (o IamAuthorizationPolicyOutput) TargetServiceName() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.TargetServiceName }).(pulumi.StringOutput)
}

// Set transactionID for debug
func (o IamAuthorizationPolicyOutput) TransactionId() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.TransactionId }).(pulumi.StringOutput)
}

func (o IamAuthorizationPolicyOutput) Version() pulumi.StringOutput {
	return o.ApplyT(func(v *IamAuthorizationPolicy) pulumi.StringOutput { return v.Version }).(pulumi.StringOutput)
}

type IamAuthorizationPolicyArrayOutput struct{ *pulumi.OutputState }

func (IamAuthorizationPolicyArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*IamAuthorizationPolicy)(nil)).Elem()
}

func (o IamAuthorizationPolicyArrayOutput) ToIamAuthorizationPolicyArrayOutput() IamAuthorizationPolicyArrayOutput {
	return o
}

func (o IamAuthorizationPolicyArrayOutput) ToIamAuthorizationPolicyArrayOutputWithContext(ctx context.Context) IamAuthorizationPolicyArrayOutput {
	return o
}

func (o IamAuthorizationPolicyArrayOutput) Index(i pulumi.IntInput) IamAuthorizationPolicyOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *IamAuthorizationPolicy {
		return vs[0].([]*IamAuthorizationPolicy)[vs[1].(int)]
	}).(IamAuthorizationPolicyOutput)
}

type IamAuthorizationPolicyMapOutput struct{ *pulumi.OutputState }

func (IamAuthorizationPolicyMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*IamAuthorizationPolicy)(nil)).Elem()
}

func (o IamAuthorizationPolicyMapOutput) ToIamAuthorizationPolicyMapOutput() IamAuthorizationPolicyMapOutput {
	return o
}

func (o IamAuthorizationPolicyMapOutput) ToIamAuthorizationPolicyMapOutputWithContext(ctx context.Context) IamAuthorizationPolicyMapOutput {
	return o
}

func (o IamAuthorizationPolicyMapOutput) MapIndex(k pulumi.StringInput) IamAuthorizationPolicyOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *IamAuthorizationPolicy {
		return vs[0].(map[string]*IamAuthorizationPolicy)[vs[1].(string)]
	}).(IamAuthorizationPolicyOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*IamAuthorizationPolicyInput)(nil)).Elem(), &IamAuthorizationPolicy{})
	pulumi.RegisterInputType(reflect.TypeOf((*IamAuthorizationPolicyArrayInput)(nil)).Elem(), IamAuthorizationPolicyArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*IamAuthorizationPolicyMapInput)(nil)).Elem(), IamAuthorizationPolicyMap{})
	pulumi.RegisterOutputType(IamAuthorizationPolicyOutput{})
	pulumi.RegisterOutputType(IamAuthorizationPolicyArrayOutput{})
	pulumi.RegisterOutputType(IamAuthorizationPolicyMapOutput{})
}
