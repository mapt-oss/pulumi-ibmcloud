// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ibmcloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/mapt-oss/pulumi-ibmcloud/sdk/go/ibmcloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

type CosBackupPolicy struct {
	pulumi.CustomResourceState

	// The type of backup to support.
	BackupType pulumi.StringOutput `pulumi:"backupType"`
	// Bucket Crn of the source bucket.
	BucketCrn pulumi.StringOutput `pulumi:"bucketCrn"`
	// Number of days after which the objects inside backup vault should be deleted.
	InitialDeleteAfterDays pulumi.IntOutput `pulumi:"initialDeleteAfterDays"`
	// Id of the backup policy applied on the source bucket
	PolicyId pulumi.StringOutput `pulumi:"policyId"`
	// Name of the backup policy to be applied on the source bucket.
	PolicyName pulumi.StringOutput `pulumi:"policyName"`
	// The CRN for a COS BackupVault.
	TargetBackupVaultCrn pulumi.StringOutput `pulumi:"targetBackupVaultCrn"`
}

// NewCosBackupPolicy registers a new resource with the given unique name, arguments, and options.
func NewCosBackupPolicy(ctx *pulumi.Context,
	name string, args *CosBackupPolicyArgs, opts ...pulumi.ResourceOption) (*CosBackupPolicy, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.BackupType == nil {
		return nil, errors.New("invalid value for required argument 'BackupType'")
	}
	if args.BucketCrn == nil {
		return nil, errors.New("invalid value for required argument 'BucketCrn'")
	}
	if args.InitialDeleteAfterDays == nil {
		return nil, errors.New("invalid value for required argument 'InitialDeleteAfterDays'")
	}
	if args.PolicyName == nil {
		return nil, errors.New("invalid value for required argument 'PolicyName'")
	}
	if args.TargetBackupVaultCrn == nil {
		return nil, errors.New("invalid value for required argument 'TargetBackupVaultCrn'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource CosBackupPolicy
	err := ctx.RegisterResource("ibmcloud:index/cosBackupPolicy:CosBackupPolicy", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCosBackupPolicy gets an existing CosBackupPolicy resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCosBackupPolicy(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CosBackupPolicyState, opts ...pulumi.ResourceOption) (*CosBackupPolicy, error) {
	var resource CosBackupPolicy
	err := ctx.ReadResource("ibmcloud:index/cosBackupPolicy:CosBackupPolicy", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CosBackupPolicy resources.
type cosBackupPolicyState struct {
	// The type of backup to support.
	BackupType *string `pulumi:"backupType"`
	// Bucket Crn of the source bucket.
	BucketCrn *string `pulumi:"bucketCrn"`
	// Number of days after which the objects inside backup vault should be deleted.
	InitialDeleteAfterDays *int `pulumi:"initialDeleteAfterDays"`
	// Id of the backup policy applied on the source bucket
	PolicyId *string `pulumi:"policyId"`
	// Name of the backup policy to be applied on the source bucket.
	PolicyName *string `pulumi:"policyName"`
	// The CRN for a COS BackupVault.
	TargetBackupVaultCrn *string `pulumi:"targetBackupVaultCrn"`
}

type CosBackupPolicyState struct {
	// The type of backup to support.
	BackupType pulumi.StringPtrInput
	// Bucket Crn of the source bucket.
	BucketCrn pulumi.StringPtrInput
	// Number of days after which the objects inside backup vault should be deleted.
	InitialDeleteAfterDays pulumi.IntPtrInput
	// Id of the backup policy applied on the source bucket
	PolicyId pulumi.StringPtrInput
	// Name of the backup policy to be applied on the source bucket.
	PolicyName pulumi.StringPtrInput
	// The CRN for a COS BackupVault.
	TargetBackupVaultCrn pulumi.StringPtrInput
}

func (CosBackupPolicyState) ElementType() reflect.Type {
	return reflect.TypeOf((*cosBackupPolicyState)(nil)).Elem()
}

type cosBackupPolicyArgs struct {
	// The type of backup to support.
	BackupType string `pulumi:"backupType"`
	// Bucket Crn of the source bucket.
	BucketCrn string `pulumi:"bucketCrn"`
	// Number of days after which the objects inside backup vault should be deleted.
	InitialDeleteAfterDays int `pulumi:"initialDeleteAfterDays"`
	// Name of the backup policy to be applied on the source bucket.
	PolicyName string `pulumi:"policyName"`
	// The CRN for a COS BackupVault.
	TargetBackupVaultCrn string `pulumi:"targetBackupVaultCrn"`
}

// The set of arguments for constructing a CosBackupPolicy resource.
type CosBackupPolicyArgs struct {
	// The type of backup to support.
	BackupType pulumi.StringInput
	// Bucket Crn of the source bucket.
	BucketCrn pulumi.StringInput
	// Number of days after which the objects inside backup vault should be deleted.
	InitialDeleteAfterDays pulumi.IntInput
	// Name of the backup policy to be applied on the source bucket.
	PolicyName pulumi.StringInput
	// The CRN for a COS BackupVault.
	TargetBackupVaultCrn pulumi.StringInput
}

func (CosBackupPolicyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*cosBackupPolicyArgs)(nil)).Elem()
}

type CosBackupPolicyInput interface {
	pulumi.Input

	ToCosBackupPolicyOutput() CosBackupPolicyOutput
	ToCosBackupPolicyOutputWithContext(ctx context.Context) CosBackupPolicyOutput
}

func (*CosBackupPolicy) ElementType() reflect.Type {
	return reflect.TypeOf((**CosBackupPolicy)(nil)).Elem()
}

func (i *CosBackupPolicy) ToCosBackupPolicyOutput() CosBackupPolicyOutput {
	return i.ToCosBackupPolicyOutputWithContext(context.Background())
}

func (i *CosBackupPolicy) ToCosBackupPolicyOutputWithContext(ctx context.Context) CosBackupPolicyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CosBackupPolicyOutput)
}

// CosBackupPolicyArrayInput is an input type that accepts CosBackupPolicyArray and CosBackupPolicyArrayOutput values.
// You can construct a concrete instance of `CosBackupPolicyArrayInput` via:
//
//	CosBackupPolicyArray{ CosBackupPolicyArgs{...} }
type CosBackupPolicyArrayInput interface {
	pulumi.Input

	ToCosBackupPolicyArrayOutput() CosBackupPolicyArrayOutput
	ToCosBackupPolicyArrayOutputWithContext(context.Context) CosBackupPolicyArrayOutput
}

type CosBackupPolicyArray []CosBackupPolicyInput

func (CosBackupPolicyArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CosBackupPolicy)(nil)).Elem()
}

func (i CosBackupPolicyArray) ToCosBackupPolicyArrayOutput() CosBackupPolicyArrayOutput {
	return i.ToCosBackupPolicyArrayOutputWithContext(context.Background())
}

func (i CosBackupPolicyArray) ToCosBackupPolicyArrayOutputWithContext(ctx context.Context) CosBackupPolicyArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CosBackupPolicyArrayOutput)
}

// CosBackupPolicyMapInput is an input type that accepts CosBackupPolicyMap and CosBackupPolicyMapOutput values.
// You can construct a concrete instance of `CosBackupPolicyMapInput` via:
//
//	CosBackupPolicyMap{ "key": CosBackupPolicyArgs{...} }
type CosBackupPolicyMapInput interface {
	pulumi.Input

	ToCosBackupPolicyMapOutput() CosBackupPolicyMapOutput
	ToCosBackupPolicyMapOutputWithContext(context.Context) CosBackupPolicyMapOutput
}

type CosBackupPolicyMap map[string]CosBackupPolicyInput

func (CosBackupPolicyMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CosBackupPolicy)(nil)).Elem()
}

func (i CosBackupPolicyMap) ToCosBackupPolicyMapOutput() CosBackupPolicyMapOutput {
	return i.ToCosBackupPolicyMapOutputWithContext(context.Background())
}

func (i CosBackupPolicyMap) ToCosBackupPolicyMapOutputWithContext(ctx context.Context) CosBackupPolicyMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CosBackupPolicyMapOutput)
}

type CosBackupPolicyOutput struct{ *pulumi.OutputState }

func (CosBackupPolicyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**CosBackupPolicy)(nil)).Elem()
}

func (o CosBackupPolicyOutput) ToCosBackupPolicyOutput() CosBackupPolicyOutput {
	return o
}

func (o CosBackupPolicyOutput) ToCosBackupPolicyOutputWithContext(ctx context.Context) CosBackupPolicyOutput {
	return o
}

// The type of backup to support.
func (o CosBackupPolicyOutput) BackupType() pulumi.StringOutput {
	return o.ApplyT(func(v *CosBackupPolicy) pulumi.StringOutput { return v.BackupType }).(pulumi.StringOutput)
}

// Bucket Crn of the source bucket.
func (o CosBackupPolicyOutput) BucketCrn() pulumi.StringOutput {
	return o.ApplyT(func(v *CosBackupPolicy) pulumi.StringOutput { return v.BucketCrn }).(pulumi.StringOutput)
}

// Number of days after which the objects inside backup vault should be deleted.
func (o CosBackupPolicyOutput) InitialDeleteAfterDays() pulumi.IntOutput {
	return o.ApplyT(func(v *CosBackupPolicy) pulumi.IntOutput { return v.InitialDeleteAfterDays }).(pulumi.IntOutput)
}

// Id of the backup policy applied on the source bucket
func (o CosBackupPolicyOutput) PolicyId() pulumi.StringOutput {
	return o.ApplyT(func(v *CosBackupPolicy) pulumi.StringOutput { return v.PolicyId }).(pulumi.StringOutput)
}

// Name of the backup policy to be applied on the source bucket.
func (o CosBackupPolicyOutput) PolicyName() pulumi.StringOutput {
	return o.ApplyT(func(v *CosBackupPolicy) pulumi.StringOutput { return v.PolicyName }).(pulumi.StringOutput)
}

// The CRN for a COS BackupVault.
func (o CosBackupPolicyOutput) TargetBackupVaultCrn() pulumi.StringOutput {
	return o.ApplyT(func(v *CosBackupPolicy) pulumi.StringOutput { return v.TargetBackupVaultCrn }).(pulumi.StringOutput)
}

type CosBackupPolicyArrayOutput struct{ *pulumi.OutputState }

func (CosBackupPolicyArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CosBackupPolicy)(nil)).Elem()
}

func (o CosBackupPolicyArrayOutput) ToCosBackupPolicyArrayOutput() CosBackupPolicyArrayOutput {
	return o
}

func (o CosBackupPolicyArrayOutput) ToCosBackupPolicyArrayOutputWithContext(ctx context.Context) CosBackupPolicyArrayOutput {
	return o
}

func (o CosBackupPolicyArrayOutput) Index(i pulumi.IntInput) CosBackupPolicyOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *CosBackupPolicy {
		return vs[0].([]*CosBackupPolicy)[vs[1].(int)]
	}).(CosBackupPolicyOutput)
}

type CosBackupPolicyMapOutput struct{ *pulumi.OutputState }

func (CosBackupPolicyMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CosBackupPolicy)(nil)).Elem()
}

func (o CosBackupPolicyMapOutput) ToCosBackupPolicyMapOutput() CosBackupPolicyMapOutput {
	return o
}

func (o CosBackupPolicyMapOutput) ToCosBackupPolicyMapOutputWithContext(ctx context.Context) CosBackupPolicyMapOutput {
	return o
}

func (o CosBackupPolicyMapOutput) MapIndex(k pulumi.StringInput) CosBackupPolicyOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *CosBackupPolicy {
		return vs[0].(map[string]*CosBackupPolicy)[vs[1].(string)]
	}).(CosBackupPolicyOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CosBackupPolicyInput)(nil)).Elem(), &CosBackupPolicy{})
	pulumi.RegisterInputType(reflect.TypeOf((*CosBackupPolicyArrayInput)(nil)).Elem(), CosBackupPolicyArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*CosBackupPolicyMapInput)(nil)).Elem(), CosBackupPolicyMap{})
	pulumi.RegisterOutputType(CosBackupPolicyOutput{})
	pulumi.RegisterOutputType(CosBackupPolicyArrayOutput{})
	pulumi.RegisterOutputType(CosBackupPolicyMapOutput{})
}
